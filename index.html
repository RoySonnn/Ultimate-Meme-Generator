<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ultimate Meme Generator</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body onload="onInit()">
    <header class="header">
      <div class="header-inner">
        <div class="logo" onclick="onBackToGallery()">
          Ultimate Meme Generator
        </div>

        <nav class="nav-desktop">
          <button class="nav-link" onclick="onBackToGallery()">Gallery</button>
          <button class="nav-link" onclick="onShowSavedMemes()">Memes</button>
        </nav>
        <button class="nav-toggle" onclick="openMobileMenu()">‚ò∞</button>
      </div>
    </header>

    <div class="mobile-menu hidden">
      <div class="mobile-menu-inner">
        <button class="mobile-close" onclick="closeMobileMenu()">‚úï</button>
        <nav class="mobile-nav">
          <button onclick="onBackToGallery(); closeMobileMenu()">
            Gallery
          </button>
          <button onclick="onShowSavedMemes(); closeMobileMenu()">Memes</button>
        </nav>
      </div>
    </div>

    <main class="main-content">
      <section class="gallery">
        <div class="gallery-toolbar">
          <div class="gallery-search-row">
            <input
              type="text"
              class="tag-input tag-search-input"
              placeholder="Search tags..."
              oninput="onLiveTagSearch(this.value)"
              onclick="onToggleTagDropdown()"
            />

            <div class="selected-tags"></div>

            <div class="tag-dropdown hidden">
              <ul class="tag-options"></ul>
            </div>
          </div>
        </div>

        <div class="gallery-grid"></div>
      </section>

      <section class="saved-memes hidden">
        <div class="saved-toolbar">
          <div class="saved-search-row">
            <input
              type="text"
              class="tag-input saved-tag-search-input"
              placeholder="Search tags..."
              oninput="onSavedLiveTagSearch(this.value)"
              onclick="onSavedToggleTagDropdown()"
            />

            <div class="saved-selected-tags"></div>

            <div class="saved-tag-dropdown hidden">
              <ul class="saved-tag-options"></ul>
            </div>
          </div>
        </div>

        <div class="saved-grid"></div>
      </section>

      <section class="editor hidden">
        <button class="btn-back inline" onclick="onEditorBack()">
          Back to Gallery
        </button>

        <div class="editor-layout">
          <div class="canvas-wrapper">
            <canvas id="meme-canvas"></canvas>
          </div>

          <div class="editor-panel">
            <div class="editor-header">
              <h2>
                Edit Text Lines:
                <span id="line-index">1</span> /
                <span id="line-count">1</span>
              </h2>

              <div class="line-tools">
                <button onclick="onAddLine()">Ôºã</button>
                <button onclick="onSwitchLine()">‚áÖ</button>
                <button onclick="onDeleteLine()">üóë</button>
              </div>
            </div>

            <div class="font-tools">
              <select class="font-select" onchange="onFontSelected(this.value)">
                <option value="Arial">Arial</option>
                <option value="Impact">Impact</option>
                <option value="Comic Sans MS">Comic Sans</option>
              </select>

              <button onclick="onChangeFontSize(-2)">A‚àí</button>
              <button onclick="onChangeFontSize(2)">AÔºã</button>

              <button class="color-btn">
                <span class="text-color-A">A</span>
                <input
                  type="color"
                  class="text-color-input"
                  onchange="onSetColor(this.value)"
                />
              </button>

              <button class="color-btn">
                <span class="stroke-color-A">A</span>
                <input
                  type="color"
                  class="stroke-color-input"
                  onchange="onSetStrokeColor(this.value)"
                />
              </button>
            </div>

            <div class="text-input-wrapper">
              <input
                type="text"
                class="text-input"
                placeholder="Your text here"
                oninput="onSetLineTxt(this.value)"
              />

              <button class="emoji-toggle" onclick="toggleEmojiBox()">
                üôÇ
              </button>

              <div class="emoji-box hidden">
                <button onclick="onAddSticker('ü§¶‚Äç‚ôÇÔ∏è')">ü§¶‚Äç‚ôÇÔ∏è</button>
                <button onclick="onAddSticker('ü§¨')">ü§¨</button>
                <button onclick="onAddSticker('üòÇ')">üòÇ</button>
                <button onclick="onAddSticker('ü§ò')">ü§ò</button>
                <button onclick="onAddSticker('‚òùÔ∏è')">‚òùÔ∏è</button>
                <button onclick="onAddSticker('üëë')">üëë</button>
                <button onclick="onAddSticker('‚ù§Ô∏è')">‚ù§Ô∏è</button>
                <button onclick="onAddSticker('üòà')">üòà</button>
                <button onclick="onAddSticker('üôè')">üôè</button>
                <button onclick="onAddSticker('üí©')">üí©</button>
              </div>
            </div>

            <div class="emoji-pod-row">
              <div class="move-pad">
                <button onclick="onMoveUp()">‚¨ÜÔ∏è</button>
                <div class="move-middle-row">
                  <button onclick="onMoveLeft()">‚¨ÖÔ∏è</button>
                  <button class="move-center" onclick="onCenterLine()">
                    ‚óè
                  </button>
                  <button onclick="onMoveRight()">‚û°Ô∏è</button>
                </div>
                <button onclick="onMoveDown()">‚¨áÔ∏è</button>
              </div>
            </div>
            <div class="tag-section">
              <div class="tag-list"></div>
              <div class="tag-custom-area">
                <button class="tag-custom-btn" onclick="onShowTagInput()">
                  Custom tag +
                </button>
                <input
                  type="text"
                  class="tag-editor-input hidden"
                  placeholder="Add tag"
                  onkeydown="onTagInputKey(event)"
                />
              </div>
            </div>

            <div class="actions-row">
              <button class="btn-save" onclick="onSaveMeme()">
                Save to Memes
              </button>
              <button class="btn-save-copy hidden" onclick="onSaveMemeCopy()">
                Save As Copy
              </button>
              <button class="btn-share" onclick="onDownloadMeme()">
                Download
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="js/gallery-controller.js"></script>
    <script src="js/meme-service.js"></script>
    <script src="js/meme-controller.js"></script>
    <script src="js/saved-memes-controller.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
