<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ultimate Meme Generator</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body onload="onInit()">
    <header class="header">
      <div class="header-inner">
        <div class="logo" onclick="onBackToGallery()">
          Ultimate Meme Generator
        </div>

        <nav class="nav-desktop">
          <button class="nav-link" onclick="onBackToGallery()">Gallery</button>
          <button class="nav-link" onclick="onShowSavedMemes()">Memes</button>
        </nav>

        <button class="nav-toggle" onclick="openMobileMenu()">‚ò∞</button>
      </div>
    </header>

    <div class="mobile-menu hidden">
      <div class="mobile-menu-inner">
        <button class="mobile-close" onclick="closeMobileMenu()">‚úï</button>
        <nav class="mobile-nav">
          <button onclick="onBackToGallery(); closeMobileMenu()">
            Gallery
          </button>
          <button onclick="onShowSavedMemes(); closeMobileMenu()">Memes</button>
        </nav>
      </div>
    </div>

    <main class="main-content">
      <section class="gallery">
        <div class="gallery-toolbar">
          <input
            type="text"
            class="search-input"
            placeholder="Search"
            disabled
          />
        </div>
        <div class="gallery-grid"></div>
      </section>

      <section class="saved-memes hidden">
        <div class="saved-toolbar">
          <button class="btn-back" onclick="onBackToGallery()">
            Back to Gallery
          </button>
          <input
            type="text"
            class="search-input"
            placeholder="Search"
            disabled
          />
        </div>
        <div class="saved-grid"></div>
      </section>

      <section class="editor hidden">
        <button class="btn-back inline" onclick="onBackToGallery()">
          Back to Gallery
        </button>

        <div class="editor-layout">
          <div class="canvas-wrapper">
            <canvas id="meme-canvas"></canvas>
          </div>

          <div class="editor-panel">
            <h2 class="panel-title">Edit Text Lines</h2>

            <input
              type="text"
              class="text-input"
              placeholder="Edit text"
              oninput="onSetLineTxt(this.value)"
            />

            <div class="line-toolbar">
              <div class="line-info">
                <span class="line-label">Text line:</span>
                <span class="line-counter">
                  <span id="line-index">1</span> /
                  <span id="line-count">1</span>
                </span>
              </div>

              <div class="line-actions">
                <button onclick="onAddLine()">Ôºã</button>
                <button onclick="onSwitchLine()">‚áÖ</button>
                <button onclick="onDeleteLine()">üóë</button>
              </div>
            </div>

            <div class="align-row">
              <button onclick="onSetAlign('left')">‚¨ÖÔ∏è</button>
              <button onclick="onSetAlign('center')">=</button>
              <button onclick="onSetAlign('right')">‚û°Ô∏è</button>
            </div>

            <div class="style-row">
              <div class="font-wrapper">
                <button
                  type="button"
                  class="btn font-toggle"
                  onclick="onToggleFontMenu()"
                >
                  FONT ‚åÑ
                </button>
                <select
                  class="font-select"
                  onchange="onFontSelected(this.value)"
                >
                  <option value="Comic Sans MS">Comic Sans</option>
                  <option value="Impact">Impact</option>
                  <option value="Arial">Arial</option>
                </select>
              </div>

              <div class="font-size">
                <button onclick="onChangeFontSize(-2)">A‚àí</button>
                <button onclick="onChangeFontSize(2)">AÔºã</button>
              </div>

              <div class="color-row">
                <button class="color-btn text-color-btn" type="button">
                  <span class="text-color-A">A</span>
                  <input
                    type="color"
                    class="text-color-input"
                    value="#000000"
                    onchange="onSetColor(this.value)"
                  />
                </button>

                <button class="color-btn stroke-color-btn" type="button">
                  <span class="stroke-color-A">A</span>
                  <input
                    type="color"
                    class="stroke-color-input"
                    value="#ff0000"
                    onchange="onSetStrokeColor(this.value)"
                  />
                </button>
              </div>
            </div>

            <div class="emojis-row">
              <button onclick="onAddSticker('ü§¶‚Äç‚ôÇÔ∏è')">ü§¶‚Äç‚ôÇÔ∏è</button>
              <button onclick="onAddSticker('ü§¨')">ü§¨</button>
              <button onclick="onAddSticker('üòÇ')">üòÇ</button>
              <button onclick="onAddSticker('ü§ò')">ü§ò</button>
              <button onclick="onAddSticker('‚òùÔ∏è')">‚òùÔ∏è</button>
              <button onclick="onAddSticker('üëë')">üëë</button>
              <button onclick="onAddSticker('‚ù§Ô∏è')">‚ù§Ô∏è</button>
              <button onclick="onAddSticker('üòà')">üòà</button>
              <button onclick="onAddSticker('üôè')">üôè</button>
              <button onclick="onAddSticker('üí©')">üí©</button>
            </div>
            <div class="actions-row">
              <button class="btn-save" onclick="onSaveMeme()">Save</button>
              <button class="btn-save-copy hidden" onclick="onSaveMemeCopy()">
                Save As Copy
              </button>
              <button class="btn-share" onclick="onDownloadMeme()">
                Download
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="js/gallery-controller.js"></script>
    <script src="js/meme-service.js"></script>
    <script src="js/meme-controller.js"></script>
    <script src="js/saved-memes-controller.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
